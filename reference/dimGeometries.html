<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Dimension geometry methods — dimGeometries • SpatialFeatureExperiment</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dimension geometry methods — dimGeometries"><meta name="description" content='"Dimension geometry" refers to Simple Feature (sf) geometries
associated with rows (features, genes) or columns (cells or spots) of the
gene count matrix in the SpatialFeatureExperiment object. For each
dimension, the number of rows in the sf data frame specifying the
geometries must match the size of the dimension of interest. For example,
there must be the same number of rows in the sf data frame describing
cells as there are cells in the gene count matrix. This page documents
getters and setters for the dimension geometries. The getters and setters are
implemented in a way similar to those of reducedDims in
SingleCellExperiment.'><meta property="og:description" content='"Dimension geometry" refers to Simple Feature (sf) geometries
associated with rows (features, genes) or columns (cells or spots) of the
gene count matrix in the SpatialFeatureExperiment object. For each
dimension, the number of rows in the sf data frame specifying the
geometries must match the size of the dimension of interest. For example,
there must be the same number of rows in the sf data frame describing
cells as there are cells in the gene count matrix. This page documents
getters and setters for the dimension geometries. The getters and setters are
implemented in a way similar to those of reducedDims in
SingleCellExperiment.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SpatialFeatureExperiment</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.8.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/seurat_sfe_coerce.html">Seurat_to_SFE</a></li>
    <li><a class="dropdown-item" href="../articles/SFE.html">Introduction to the SpatialFeatureExperiment class</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pachterlab/SpatialFeatureExperiment/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Dimension geometry methods</h1>
      <small class="dont-index">Source: <a href="https://github.com/pachterlab/SpatialFeatureExperiment/blob/documentation/R/dimGeometries.R" class="external-link"><code>R/dimGeometries.R</code></a></small>
      <div class="d-none name"><code>dimGeometries.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>"Dimension geometry" refers to Simple Feature (<code>sf</code>) geometries
associated with rows (features, genes) or columns (cells or spots) of the
gene count matrix in the <code>SpatialFeatureExperiment</code> object. For each
dimension, the number of rows in the <code>sf</code> data frame specifying the
geometries must match the size of the dimension of interest. For example,
there must be the same number of rows in the <code>sf</code> data frame describing
cells as there are cells in the gene count matrix. This page documents
getters and setters for the dimension geometries. The getters and setters are
implemented in a way similar to those of <code>reducedDims</code> in
<code>SingleCellExperiment</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'SpatialFeatureExperiment'</span></span>
<span><span class="fu">dimGeometries</span><span class="op">(</span><span class="va">x</span>, MARGIN <span class="op">=</span> <span class="fl">2</span>, withDimnames <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatialFeatureExperiment'</span></span>
<span><span class="fu">dimGeometries</span><span class="op">(</span><span class="va">x</span>, <span class="va">MARGIN</span>, withDimnames <span class="op">=</span> <span class="cn">TRUE</span>, translate <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatialFeatureExperiment'</span></span>
<span><span class="fu">dimGeometryNames</span><span class="op">(</span><span class="va">x</span>, <span class="va">MARGIN</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatialFeatureExperiment,numeric,character'</span></span>
<span><span class="fu">dimGeometryNames</span><span class="op">(</span><span class="va">x</span>, <span class="va">MARGIN</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatialFeatureExperiment'</span></span>
<span><span class="fu">dimGeometry</span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="fl">1L</span>, <span class="va">MARGIN</span>, sample_id <span class="op">=</span> <span class="fl">1L</span>, withDimnames <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatialFeatureExperiment'</span></span>
<span><span class="fu">dimGeometry</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  type <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  <span class="va">MARGIN</span>,</span>
<span>  sample_id <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  withDimnames <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  translate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>SpatialFeatureExperiment</code> object.</p></dd>


<dt id="arg-margin">MARGIN<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>As in <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></code>. 1 stands for rows and 2 stands for
columns.</p></dd>


<dt id="arg-withdimnames">withDimnames<a class="anchor" aria-label="anchor" href="#arg-withdimnames"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, then the dimnames (colnames or
rownames) of the gene count matrix should correspond to row names of the
<code>sf</code> data frames of interest.</p></dd>


<dt id="arg-translate">translate<a class="anchor" aria-label="anchor" href="#arg-translate"></a></dt>
<dd><p>Logical. Only used if <code><a href="removeEmptySpace.html">removeEmptySpace</a></code> has
been run of the SFE object. If that's the case, this argument indicates
whether the new value to be assigned to the geometry is in the coordinates
prior to removal of empty space so it should be translated to match the new
coordinates after removing empty space. Default to <code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p><code>spatialCoordsNames, spotDiameter, geometryType</code> passed to
<code><a href="df2sf.html">df2sf</a></code>. Defaults are the same as in <code><a href="df2sf.html">df2sf</a></code>. For
<code>dimGeometries&lt;-</code> only: <code>geometryType</code> can be a character vector
of the geometry type of each data frame in the list of the same length as
the list if the data frames specify different types of geometries.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Value to set. For <code>dimGeometry</code>, must be a <code>sf</code> data
frame with the same number of rows as size in the dimension of interest, or
an ordinary data frame that can be converted to such a <code>sf</code> data frame
(see <code><a href="df2sf.html">df2sf</a></code>). For <code>dimGeometries</code>, must be a list of such
<code>sf</code> or ordinary data frames.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>An integer specifying the index or string specifying the name of
the *Geometry to query or replace. If missing, then the first item in the
*Geometries will be returned or replaced.</p></dd>


<dt id="arg-sample-id">sample_id<a class="anchor" aria-label="anchor" href="#arg-sample-id"></a></dt>
<dd><p>Sample ID to get or set geometries.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Getters for multiple geometries return a named list. Getters for names
  return a character vector of the names. Getters for single geometries
  return an <code>sf</code> data frame. Setters return an SFE object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>[colGeometries()], [rowGeometries()]</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pachterlab/SFEData" class="external-link">SFEData</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sfe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/SFEData/man/McKellarMuscleData.html" class="external-link">McKellarMuscleData</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"small"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> see ?SFEData and browseVignettes('SFEData') for documentation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> loading from cache</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get all column geometries as a named list</span></span></span>
<span class="r-in"><span><span class="co"># Use MARGIN = 1 or rowGeometry/ies for rowGeometries</span></span></span>
<span class="r-in"><span><span class="va">cgs</span> <span class="op">&lt;-</span> <span class="fu">dimGeometries</span><span class="op">(</span><span class="va">sfe</span>, MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Or equivalently</span></span></span>
<span class="r-in"><span><span class="va">cgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometries</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set all column geometries with a named list</span></span></span>
<span class="r-in"><span><span class="fu">dimGeometries</span><span class="op">(</span><span class="va">sfe</span>, MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cgs</span></span></span>
<span class="r-in"><span><span class="co"># Or equivalently</span></span></span>
<span class="r-in"><span><span class="fu"><a href="colGeometries.html">colGeometries</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cgs</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get names of column geometries</span></span></span>
<span class="r-in"><span><span class="va">cgns</span> <span class="op">&lt;-</span> <span class="fu">dimGeometryNames</span><span class="op">(</span><span class="va">sfe</span>, MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cgns</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometryNames</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set column geometry names</span></span></span>
<span class="r-in"><span><span class="fu">dimGeometryNames</span><span class="op">(</span><span class="va">sfe</span>, MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cgns</span></span></span>
<span class="r-in"><span><span class="fu"><a href="colGeometries.html">colGeometryNames</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cgns</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get a specific column geometry by name</span></span></span>
<span class="r-in"><span><span class="va">spots</span> <span class="op">&lt;-</span> <span class="fu">dimGeometry</span><span class="op">(</span><span class="va">sfe</span>, <span class="st">"spotPoly"</span>, MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spots</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe</span>, <span class="st">"spotPoly"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Or equivalently, the wrapper specifically for Visium spot polygons,</span></span></span>
<span class="r-in"><span><span class="co"># for the name "spotPoly"</span></span></span>
<span class="r-in"><span><span class="va">spots</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">spotPoly</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Other colGeometry wrappers for specific names:</span></span></span>
<span class="r-in"><span><span class="co"># ROIPoly (for LCM and GeoMX DSP), cellSeg and nucSeg (for MERFISH; would</span></span></span>
<span class="r-in"><span><span class="co"># query annotGeometries for Visium)</span></span></span>
<span class="r-in"><span><span class="co"># rowGeometry wrappers for specific names: txSpots (MERFISH transcript spots)</span></span></span>
<span class="r-in"><span><span class="co"># By index</span></span></span>
<span class="r-in"><span><span class="va">spots</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe</span>, <span class="fl">1L</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multiple samples, only get geometries for one sample</span></span></span>
<span class="r-in"><span><span class="va">sfe2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/SFEData/man/McKellarMuscleData.html" class="external-link">McKellarMuscleData</a></span><span class="op">(</span><span class="st">"small2"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> see ?SFEData and browseVignettes('SFEData') for documentation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> loading from cache</span>
<span class="r-in"><span><span class="va">sfe_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">sfe</span>, <span class="va">sfe2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spots1</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe</span>, <span class="st">"spotPoly"</span>, sample_id <span class="op">=</span> <span class="st">"Vis5A"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spots2</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">spotPoly</a></span><span class="op">(</span><span class="va">sfe_combined</span>, sample_id <span class="op">=</span> <span class="st">"sample02"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Get geometries for multiple samples</span></span></span>
<span class="r-in"><span><span class="va">spots3</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">spotPoly</a></span><span class="op">(</span><span class="va">sfe_combined</span>, sample_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Vis5A"</span>, <span class="st">"sample02"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># All samples</span></span></span>
<span class="r-in"><span><span class="va">spots3</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">spotPoly</a></span><span class="op">(</span><span class="va">sfe_combined</span>, sample_id <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set specific column geometry by name</span></span></span>
<span class="r-in"><span><span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe</span>, <span class="st">"foobar"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">spots</span></span></span>
<span class="r-in"><span><span class="co"># Or use wrapper</span></span></span>
<span class="r-in"><span><span class="fu"><a href="colGeometries.html">spotPoly</a></span><span class="op">(</span><span class="va">sfe</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">spots</span></span></span>
<span class="r-in"><span><span class="co"># Specify sample_id</span></span></span>
<span class="r-in"><span><span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe_combined</span>, <span class="st">"foobar"</span>, sample_id <span class="op">=</span> <span class="st">"Vis5A"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">spots1</span></span></span>
<span class="r-in"><span><span class="co"># Only entries for the specified sample are set.</span></span></span>
<span class="r-in"><span><span class="va">foobar</span> <span class="op">&lt;-</span> <span class="fu"><a href="colGeometries.html">colGeometry</a></span><span class="op">(</span><span class="va">sfe_combined</span>, <span class="st">"foobar"</span>, sample_id <span class="op">=</span> <span class="st">"sample02"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lambda Moses, Alik Huseynov, Lior Pachter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

